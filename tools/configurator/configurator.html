<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>RC Light Controller configuration tool</title>

  <link rel="stylesheet" type="text/css" href="configurator.css">

  <script src="class_manipulation.js"></script>
  <script src="disassembler/disassembler.js"></script>
  <script src="intel-hex/intel-hex.js"></script>
  <script src="gamma.js"></script>
  <script src="default_firmware_image.js"></script>
  <script src="templating.js"></script>
  <script src="ui.js"></script>
  <script src="main.js"></script>
</head>
<body>
  <div id="heading" class="widebox heading">
    <h1><img id="logo" width="48" height="48" title="" alt="" src="data:image/jpeg;base64,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" /> RC Light Controller configuration tool</h1>
  </div>

  <div class="page" id="main">
    <div class="box configuration">
      <h2>Load and Save</h2>
      <div>
        Upload hex: <input type="file" id="intelhex" />
      </div>
    </div>


    <div id="config_mode" class="box configuration">
      <h2>Operating mode</h2>
      <div>
        <select id="mode">
          <option value="0">Master, servo inputs</option>
          <option value="1">Master, pre-processor input</option>
          <option value="2">Slave</option>
        </select>
      </div>
    </div>


    <div id="config_basic" style="display: none" class="box configuration">
      <h2>Basic configuration</h2>

      <h3>ESC type</h2>
      <div>
        <input type="radio" name="esc" value="0"/> Forward/Brake/Reverse (with timeout)<br>
        <input type="radio" name="esc" value="1"/> Forward/Brake/Reverse (no timeout)<br>
        <input type="radio" name="esc" value="2"/> Forward/Reverse (crawler mode)<br>
        <input type="radio" name="esc" value="3"/> Forward/Brake (racing mode)<br>
      </div>

      <h3>CH3/AUX function</h2>
      <div>
        <input type="radio" name="ch3" value="0"/> CH3/AUX is a two-position switch or toggle button<br>
        <input type="radio" name="ch3" value="1"/> CH3/AUX is a momentary push button<br>
        <input type="radio" name="ch3" value="1"/> Push button connected to the light controller's CH3 input (i.e. a physical button, not a servo signal)<br>
      </div>

      <div id="single_output" style="display: none">
        <h3>Output function on OUT/ISP</h2>
        <div>
          <input type="radio" name="single_output_out" value="0"/> (no output function)<br>
          <input type="radio" name="single_output_out" value="1"/> Slave output<br>
          <input type="radio" name="single_output_out" value="2"/> Pre-processour output<br>
          <input type="radio" name="single_output_out" value="3"/> Steering wheel servo output<br>
          <input type="radio" name="single_output_out" value="4"/> Two-speed gearbox servo output<br>
          <input type="radio" name="single_output_out" value="5"/> Winch output<br>
        </div>
      </div>
      <div id="dual_output" style="display: none">
        <h3>Servo output function on OUT/ISP</h2>
        <div>
          <input type="radio" name="dual_output_out" value="0"/> (no output function)<br>
          <input type="radio" name="dual_output_out" value="3"/> Steering wheel servo output<br>
          <input type="radio" name="dual_output_out" value="4"/> Two-speed gearbox servo output<br>
        </div>
        <h3>Output function on TH/Tx</h2>
        <div >
          <input type="radio" name="dual_output_th" value="0"/> (no output function)<br>
          <input type="radio" name="dual_output_th" value="1"/> Slave output<br>
          <input type="radio" name="dual_output_th" value="2"/> Pre-processour output<br>
          <input type="radio" name="dual_output_th" value="5"/> Winch output<br>
        </div>
      </div>

      Baudrate: <select id="baudrate">
        <option value="38400">38400</option>
        <option value="115200">115200</option>
      </select>
    </div>


    <div id="config_leds" style="display: none" class="box configuration">
      <h2>LED configuration</h2>
      <div>
        Click on a field in the table to set the LED brighness value in percent for a particular function.<br>
        Click on the <span class="spanner"></span> icon to configure advanced parameters for simulating incandescent bulbs and weak ground connections.
        The background of the icon turns orange when advanced features are in use.<br>
        Hover the mouse over individual items to see an explaination about their function.
      </div>
      <div id="leds_master">
        <h3>Master</h2>
        <div>
          <table class="led_table">
            <tbody>
              <tr class="odd">
                <th></th>
                <th name="help_led_always_on" rowspan="2">Always on</th>
                <th name="help_led_light_switch" colspan="9">Light switch position</th>
                <th name="help_led_tail"></th>
                <th name="help_led_brake"></th>
                <th name="help_led_reverse"></th>
                <th name="help_led_indicator" colspan="2">Indicator</th>
              </tr>
              <tr class="odd">
                <th>LED</th>
                <th name="help_led_light_switch">0</th>
                <th name="help_led_light_switch">1</th>
                <th name="help_led_light_switch">2</th>
                <th name="help_led_light_switch">3</th>
                <th name="help_led_light_switch">4</th>
                <th name="help_led_light_switch">5</th>
                <th name="help_led_light_switch">6</th>
                <th name="help_led_light_switch">7</th>
                <th name="help_led_light_switch">8</th>
                <th name="help_led_tail">Tail</th>
                <th name="help_led_brake">Brake</th>
                <th name="help_led_reverse">Reverse</th>
                <th name="help_led_indicator">left</th>
                <th name="help_led_indicator">right</th>
              </tr>

              <!-- LED rows will be inserted here -->

            </table>
          </div>
        </div>

        <div id="leds_slave">
          <h3>Slave</h2>
          <div>
            <table class="led_table">
              <tr class="odd">
                <th></th>
                <th name="help_led_always_on" rowspan="2">Always on</th>
                <th name="help_led_light_switch" colspan="9">Light switch position</th>
                <th name="help_led_tail"></th>
                <th name="help_led_brake"></th>
                <th name="help_led_reverse"></th>
                <th name="help_led_indicator" colspan="2">Indicator</th>
              </tr>
              <tr class="odd">
                <th>LED</th>
                <th name="help_led_light_switch">0</th>
                <th name="help_led_light_switch">1</th>
                <th name="help_led_light_switch">2</th>
                <th name="help_led_light_switch">3</th>
                <th name="help_led_light_switch">4</th>
                <th name="help_led_light_switch">5</th>
                <th name="help_led_light_switch">6</th>
                <th name="help_led_light_switch">7</th>
                <th name="help_led_light_switch">8</th>
                <th name="help_led_tail">Tail</th>
                <th name="help_led_brake">Brake</th>
                <th name="help_led_reverse">Reverse</th>
                <th name="help_led_indicator">left</th>
                <th name="help_led_indicator">right</th>
              </tr>

              <!-- LED rows will be inserted here -->

            </tbody>
          </table>
        </div>
      </div>
    </div>


    <div id="config_light_programs" style="display: none" class="box configuration">
      <h2>Light programs:</h2>
      <pre id="light_programs"></pre>
    </div>


    <div id="config_advanced" style="display: none" class="box configuration">
      <h2>Advanced configuration</h2>
        Note: all timing values have a resolution of 20 ms.

        <h3>Automatic brake lights</h3>
        <div class="advanced_feature">
          <div>
            <input type="checkbox" id="auto_brake_lights_forward_enabled">
            <label for="auto_brake_lights_forward_enabled">Enable automatic brake lights after driving forward</label>
          </div>
          <div>
            <input type=number id="auto_brake_counter_value_forward_min">
            <label for="auto_brake_counter_value_forward_min"> .. </label>
            <input type=number id="auto_brake_counter_value_forward_max">
            <label for="auto_brake_counter_value_forward_max">min/max time in ms the brake lights should light up</label>
          </div>

          <div>
            If enabled, the light controller turns on the brake lights for a
            random amount of time every time the throttle input goes from
            forward driving to neutral.<br>
            This provides a realistic brake light effect since often the brake
            function is not engaged in scale driving, but rather we return
            the throttle to neutral and let the car coast to a stop.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type="checkbox" id="auto_brake_lights_reverse_enabled">
            <label for="auto_brake_lights_reverse_enabled">Enable automatic brake   lights after reversing</label>
          </div>
          <div>
            <input type=number id="auto_brake_counter_value_reverse_min">
            <label for="auto_brake_counter_value_reverse_min"> .. </label>
            <input type=number id="auto_brake_counter_value_reverse_max">
            <label for="auto_brake_counter_value_reverse_max">min/max time in ms the brake lights should light up</label>
          </div>

          <div>
            If enabled, the light controller turns on the brake lights for a
            random amount of time every time the throttle goes to neutral
            after reversing. This setting only takes effect when the ESC mode
            is set to Forward/Brake/Reverse or Forward/Reverse.
          </div>
        </div>


        <h3>ESC brake function</h3>
        <div class="advanced_feature">
          <div>
            <input type="checkbox" id="brake_disarm_timeout_enabled">
            <label for="brake_disarm_timeout_enabled">Enable automatic disarming of the brake function</label>
          </div>
          <div>
            <input type=number id="brake_disarm_counter_value">
            <label for="brake_disarm_counter_value">Timeout in milliseconds</label>
          </div>
          <div>
            After driving the car forward, some ESC (e.g. Tamiya TEU-104BK,
            TEU-105BK) require the user to first engage the brake function, then
            go back to neutral, before they allow the car to drive backwards.
            For those ESC this feature should be turned off.
            <br>
            Other ESC allow engaging the reverse function when the throttle
            has been in neutral for a certain amount of time, usually a few
            seconds. For those ESC the feature should be enabled. The value
            in the field can be adjusted to match the ESC's timeout.<br>
            This function applies only to ESC with a forward/reverse/brake function.
          </div>
        </div>


        <h3>Reversing light extension</h3>
        <div class="advanced_feature">
          <div>
            <input type=number id="auto_reverse_counter_value_min">
            <label for="auto_reverse_counter_value_min"> .. </label>
            <input type=number id="auto_reverse_counter_value_max">
            <label for="auto_reverse_counter_value_max">min/max time in ms the reversing lights should be kept on</label>
          </div>
          <div>
            After driving the car in reverse, the light controller keeps the reversing lights on for a random time between the specified min/max
            after the throttle has returned to neutral. This adds realism
            as drivers usually take a short time until they disengage reverse
            gear.<br>
            The reversing lights are immediately turned off when the car
            drives forward.<br>
            This function applies only to ESC with a forward/reverse/brake or
            forward/reverse function.
          </div>
        </div>


        <h3>Indicators</h3>
        <div class="advanced_feature">
          <div>
            <input type=number id="blink_counter_value">
            <label for="blink_counter_value">Indicator on/off time in ms</label>
          </div>
          <div>
            This value sets the frequency of the indicators and hazard lights.
            For most countries the indicator blink frequency is 1.5 Hz,
            which means the half-period time should be 333 ms.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="indicator_idle_time_value">
            <label for="indicator_idle_time_value">Idle time in ms before indicators engage</label>
          </div>
          <div>
            In order to prevent the indicators coming on unintentionally during
            driving, the throttle and steering must be in center for a
            specified time before the indicators can be engaged by turning
            the steering.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="indicator_off_timeout_value">
            <label for="indicator_off_timeout_value">Timeout in ms before the indicators turn off</label>
          </div>
          <div>
            When the indicators are engaged and steering is returned to neutral,
            the indicators continue to blink for the specified amount of time.<br>
            The indicators can be turned off immediately by turning the
            steering in the opposite direction.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="blink_threshold">
            <label for="blink_threshold">% steering input required to turn on the indicators</label>
          </div>
          <div>
            The steering wheel must be turned for at least the specified
            percentage of steering lock before the indicators turn on.
          </div>
        </div>


        <h3>Servo input</h3>
        <div class="advanced_feature">
          <div>
            <input type=number id="initial_endpoint_delta">
            <label for="initial_endpoint_delta">Initial endpoint delta in ms</label>
          </div>

          <div>
            The light controller features automatic detection of center and
            endpoint for both steering and throttle.<br>
            This value determines how much the initial endpoint left and right
            is set from the center value after power up.<br>
            A servo pulse is usually between 1000 and 2000 ms, with 1500 ms
            being the centre. Dual-rate and end-point adjustments in the
            transmitter change the minimum and maximum received pulse duration.<br>
            A good value for the initial endpoint is 250 ms, which corresponds
            to 50% of nominal servo travel. If the light controller sees
            a signal larger than that, it automatically adjusts its
            endpoint.<br>
            If you set this value too small the lights may flicker after power
            on until you perform steering and throttle inputs, which adjust
            the endpoints to your transmitter.<br>
            If you set this value too large steering and brake signals may
            not engage properly.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="centre_threshold_low">
            <label for="centre_threshold_low"> .. </label>
            <input type=number id="centre_threshold_high">
            <label for="centre_threshold_high">% centre threshold low/high</label>
          </div>

          <div>
            In order to prevent flickering due to mis-detection of steering
            and throttle inputs, a threshold is applied before steering and
            throttle are detected as being engaged.<br>
            When the steering/throttle is in the center, it first has to be
            engaged past the high percent mark before the light controller
            accepts the input.<br>
            When returning to center, the steering/throttle value has to go
            below the low threshold before it is recognized as being in center.<br>
            Good values depend mostly on the throttle and ESC of your car. If
            the values are set to high the car may be driving already long
            before the light controller recognizes the car as being moving.
            If the values are set too low then brake and reverse lights may
            flicker when driving at very slow speeds.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="ch3_multi_click_timeout">
            <label for="ch3_multi_click_timeout">timeout in ms before a &quot;click&quot; is accepted on CH3/AUX</label>
          </div>

          <div>
            In order to be able to perform multiple functions on a single
            CH3/AUX input, a method of multiple clicks -- similar to the
            concept used on computers -- is employed.<br>
            The timeout value determines how quickly the light controller reacts
            to CH3/AUX. A low value means you must switch CH3/AUX quickly, but
            also that the reaction of the function engages quickly. a high
            value means you must wait longer until the light controller accepts
            the input. 600 ms works well for the LANE Boys.
          </div>
        </div>

        <div class="advanced_feature">
          <div>
            <input type=number id="no_signal_timeout">
            <label for="no_signal_timeout">no signal timeout in ms</label>
          </div>

          <div>
           If no servo signal is received within the given time, for example
           because the transmitter is out of range, then the light controller
           sets the no-signal flag internally, which can be used in light
           programs to perform a certain function.<br>
           Note that most likely this will not work well on modern digital
           transmitters, because the failsafe function will output valid servo
           signals even if the transmitter is out of range.
          </div>
        </div>


        <h3>Winch output</h3>
        <div class="advanced_feature">
          <div>
            <input type=number id="winch_command_repeat_time">
            <label for="winch_command_repeat_time">winch command repeat time in ms</label>
          </div>

          <div>
           This setting only applies to the
           <a href="https://github.com/laneboysrc/rc-winch-controller" target="_blank">LANE Boys RC winch controller</a><br>
           The value determines how often the winch commands are sent to the
           winch controller.
          </div>
        </div>


        <h3>Gamma correction</h3>
        <div class="advanced_feature">
          <div>
            <input type=number id="gamma" min="0.0" max="9.9" step="0.1">
            <label for="gamma">gamma value</label>
          </div>

          <div>
            The current flowing through an LED determines its light output.
            However, the human perception is not linear to the amount of light.
            The light controller therefore offers a gamma correction so that
            if you set a light value of 50%, it should be roughly perceived
            has half as bright as the same LED set to 100%.<br>
            Useful values are between 1.8 and 2.2.
          </div>
        </div>

    </div>

  </div>

  <!--
  This template is used by ui.js to build the table for master and slave
  LED configuration
  -->
  <script id="led_row_template" type="text/html-template">
    <tr class="led_config <%=even_odd%>">
      <th><%=led_number%> <span class="spanner"></span></th>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td>
      <td></td> <td></td> <td></td>
    </tr>
    <tr class="led_features <%=even_odd%>">
      <td colspan="16">
        <table>
          <tbody>
            <tr name="help_incandescent">
              <td colspan="16">
                <div>
                  Incandescent light bulb simulation <input type="number" min="0" max="255" class="incandescent">
                </div>
              </td>
            </tr>
            <tr name="help_weak_ground">
              <td colspan="16">
                Weak ground simulation: <input type="number" min="0" max="100" class="weak_ground"> % reduction
              </td>
            </tr>
            <tr name="help_weak_ground">
              <td colspan="2"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
              <td><input type="checkbox" class="checkbox"></td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
  </script>

</body>
</html>

